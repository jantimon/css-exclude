.valid {
  content: 'this selector should not be removed';
}

.nasty {
  content: 'this selector should not be removed';
}

.nasty>.example {
  content: 'this selector should not be removed';
}

a .really > .nasty #selector {
  .example {
    conent: 'please remove this nasty selector';
  }
}

.valid, .nasty .invalid {
  content: 'please remove only the invalid part';
}